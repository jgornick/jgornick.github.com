<!doctype html>

<html lang="en-us">

<head>
  <title>Joe Gornick</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="The HTML5 Herald" />
  <meta name="author" content="Joe Gornick" />
  <meta name="generator" content="Hugo 0.57.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/3.0.1/github-markdown.min.css" />
<link rel="stylesheet" type="text/css" href="https://joegornick.com/css/styles.css" />
</head>

<body>
  <div id="container" class="markdown-body">
    <header>
      <h1>
        <a href="https://joegornick.com/">Joe Gornick</a>
      </h1>

      <ul id="social-media">
        
        <li><a href="https://twitter.com/jgornick"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
         
        <li><a href="https://www.linkedin.com/in/jgornick"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
         
        <li><a href="https://github.com/jgornick"><i class="fa fa-github fa-lg" aria-hidden="true"></i></a></li>
         
        <li><a href="https://gitlab.com/jgornick"><i class="fa fa-gitlab fa-lg" aria-hidden="true"></i></a></li>
          
      </ul>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="" href="https://joegornick.com/posts/">
                <i class="fa-li fa  fa-lg"></i><span>Posts</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://joegornick.com/resume/">
                <i class="fa-li fa  fa-lg"></i><span>Resume</span>
            </a>
        </li>
        
    </ul>
</nav>

    <main>




<article>

    <h1>Publish a scoped package to a custom registry</h1>

    
        <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2019-05-01T20:57:27-05:00">May 1, 2019</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="https://joegornick.com/tags/npm/">#npm</a>
                
            </em>
        </li>
        

        <li>1 min read</li>
    </ul>
</aside>
    

    

<p>When publishing a npm package, npm will use your <a href="https://docs.npmjs.com/misc/config">configuration sources</a> for a destination registry. npm also provides an ability to override configuration via the <a href="https://docs.npmjs.com/files/package.json#publishconfig"><code>publishConfig</code></a> field in <code>package.json</code>.</p>

<p>If your package is non-scoped, then you can override the publish npm registry:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;publishConfig&#34;</span>: {
    <span style="color:#f92672">&#34;registry&#34;</span>: <span style="color:#e6db74">&#34;https://npm.joegornick.com&#34;</span>
  }
}</code></pre></div>
<p>However, if your package is <a href="https://docs.npmjs.com/misc/scope"><strong>scoped</strong></a>, then there&rsquo;s an <a href="https://github.com/npm/npm/issues/10117#issuecomment-209732223">undocumented ability to override the publish npm registry</a> by prefixing <code>registry</code> with the <code>@scope</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;publishConfig&#34;</span>: {
    <span style="color:#f92672">&#34;@foo:registry&#34;</span>: <span style="color:#e6db74">&#34;https://npm.foo.com&#34;</span>
  }
}</code></pre></div>
<h2 id="references">References</h2>

<p><a href="https://github.com/npm/npm/issues/10117#">No way to override registry in .npmrc for scoped packages w/&ndash;registry flag</a></p>


</article>


  <section class="post-nav">
    <ul>
      
        <li>
            <a href="https://joegornick.com/2019/04/15/yarn-with-private-npm-registries-and-authentication/"><i class="fa fa-chevron-circle-left"></i> yarn with private npm registries and authentication</a>
        </li>
      
      
    </ul>
  </section>
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "jgornick" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>





    </main>
    <footer>
      <h6>
        Copyright &copy; 2019 - Joe Gornick |
        Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
        <a href="https://joegornick.com/index.xml">Subscribe</a>
      </h6>
    </footer>
  </div>
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-2943070-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

  <script src="https://joegornick.com/js/scripts.js"></script>
</body>
</html>